<link rel="import" href="/bower_components/core-ajax/core-ajax.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/elements/letter-keyboard/letter-keyboard.html">
<link rel="import" href="/elements/hangman-gallow/hangman-gallow.html">

<polymer-element name="hangman-game" constructor="HangmanGame">
  <template>
    <link rel="stylesheet" type="text/css" href="hangman-game.css">
    <core-ajax id="gameStarter" handleAs="json" on-core-response="{{gameStartData}}"></core-ajax>
    <core-ajax id="gameGuessing" handleAs="json" on-core-response="{{gameGuessed}}"></core-ajax>

    <section class="horz-flexbox-start">
      <section id="gallowGameStart">
        <hangman-gallow num_tries_left="{{game_state.num_tries_left}}"></hangman-gallow>
        <paper-button id="startGameBtn" raisedButton label="Start Game" on-click="{{startGame}}"></paper-button>
      </section>

      <section id="gameIO">
        <h4>{{gameEnding}}</h4>
        <section>
          <div class="ft-space-4 ft-word-space-4 ft-24 ft-blue"> {{game_state.phrase}}</div>
          <div id="trialsAvail">Tries Left: {{game_state.num_tries_left}}</div>
        </section>

        <section class="keypad">
          <letter-keyboard id="keyboard" clickEvent="{{letterClickEvent}}"></letter-keyboard>
        </section>
      </section>
    </section>

  </template>
  <script src="hangman-game.js"></script>
</polymer-element>
